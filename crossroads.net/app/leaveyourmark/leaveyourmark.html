<div class="row">

  <div class="leaveyourmark-header">
      <div class="container soft-ends">
        <div class="row soft-ends">
          <div class="col-sm-7">
            <img src="//crds-cms-uploads.imgix.net/content/images/iminlogotext.png" class="im-in-logo push-bottom" />
            <p class="lead">
              <div dynamic-content="$root.MESSAGES.imInLeaveyourmark.content | html"></div>
            </p>
            <p>
              <a ng-href="commitment" class="btn btn-primary btn-lg push-half-right">I Want In</a>
              <a ng-href="profile/giving" class="btn btn-default btn-lg">Check Your Status</a>
            </p>
          </div>
          <div class="col-sm-4 col-sm-offset-1 day-countdown" ng-show="leaveYourMarkCtrl.viewReady">
              <!-- days -->
              <div class="text-center">
                <div class="chart" data-percent="{{(leaveYourMarkCtrl.currentDay / leaveYourMarkCtrl.totalDays * 100) | number:0 }}" data-scale-color="#ffb400">
                  <span class="percent">{{(leaveYourMarkCtrl.currentDay / leaveYourMarkCtrl.totalDays * 100) | number:0 }}</span>
                </div>
                <h3>Day {{leaveYourMarkCtrl.currentDay | number:0}} / {{leaveYourMarkCtrl.totalDays | number:0 }}</h3>
              </div>
          </div>
        </div>
      </div>
  </div>

  <!-- first row displays days -->
  <div class="push-top">
      <preloader full-screen="false" ng-show="!leaveYourMarkCtrl.viewReady">
  </div>

  <div class="container">

    <div class="row" ng-show="leaveYourMarkCtrl.viewReady">
        <div class="pull-right" style="padding: 1px 1px 1px 1px" ng-style="{width: (100 - leaveYourMarkCtrl.givenPercentage) + '%'}">
            <div style="background-color: lightgray; width: 70px; height: 40px; line-height: 40px; transform: translate(-25px)">
                <div class="text-center">
                    {{leaveYourMarkCtrl.givenPercentage}}%
                </div>
            </div>
            <div style="width: 0; height: 0; border-left: 10px solid transparent; border-right: 10px solid transparent; border-top: 10px solid lightgrey;">
            </div>
        </div>
    </div>

    <!-- progress bar -->
    <div ng-show="leaveYourMarkCtrl.viewReady">
        <div class="progress" style="height: 40px">
            <div class="progress-bar progress-bar-imin" role="progressbar"
                 aria-valuenow="{{givenPercentage}}" aria-valuemin="0" aria-valuemax="100" ng-style="{width: leaveYourMarkCtrl.givenPercentage + '%'}"
                 data-toggle="popover" data-trigger="hover" data-content="{leaveYourMarkCtrl.givenPercentage} + '%'">
                <div class="text-left push-left lead" style="margin-top: 5px;">
                    {{leaveYourMarkCtrl.given | currency:"$":0}} given
                </div>
            </div>
            <div class="text-right push-right lead" style="margin-top: 5px;">
                {{leaveYourMarkCtrl.committed | currency:"$":0}} committed
            </div>
        </div>
    </div>

    <div class="row" ng-show="leaveYourMarkCtrl.viewReady">
        <div class="col-lg-2 col-md-6 col-sm-12 col-lg-offset-1">
            <div style="text-align: center; margin-top: 30px; border: 1px solid #dddddd; background: url('//imincampaign.net/wp-content/themes/ImIn/assets/img/BackgroundTexture-map-white.png')">
                <p style="font-size: 36pt; font-weight: bold">{{leaveYourMarkCtrl.notStartedPercent | number}} %</p>
                <p>of people haven't started</p>
            </div>
        </div>
        <div class="col-lg-2 col-md-6 col-sm-12">
            <div style="text-align: center; margin-top: 30px; border: 1px solid #dddddd; background-color: #f3f3f3">
                <p style="font-size: 36pt; font-weight: bold">{{leaveYourMarkCtrl.behindPercent | number}} %</p>
                <p>of people are behind</p>
            </div>
        </div>
        <div class="col-lg-2 col-md-6 col-sm-12">
            <div style="text-align: center; margin-top: 30px; border: 1px solid #dddddd; background-color: #f3f3f3">
                <p style="font-size: 36pt; font-weight: bold">{{leaveYourMarkCtrl.onPacePercent | number}} %</p>
                <p>of people are on pace</p>
            </div>
        </div>
        <div class="col-lg-2 col-md-6 col-sm-12">
            <div style="text-align: center; margin-top: 30px; border: 1px solid #dddddd; background-color: #f3f3f3">
                <p style="font-size: 36pt; font-weight: bold">{{leaveYourMarkCtrl.aheadPercent | number}} %</p>
                <p>of people are ahead</p>
            </div>
        </div>
        <div class="col-lg-2 col-md-6 col-sm-12">
            <div style="text-align: center; margin-top: 30px; border: 1px solid #dddddd; background-color: #f3f3f3">
                <p style="font-size: 36pt; font-weight: bold">{{leaveYourMarkCtrl.completedPercent | number}} %</p>
                <p>of people are finished</p>
            </div>
        </div>
    </div>
  </div>
</div>

<script src="//crossroads-media.s3.amazonaws.com/documents/leaveyourmark/easy-pie-chart/jquery.easypiechart.min.js"></script>
<script>
    $(function() {
      setTimeout(
        function()
        {
          $('.chart').easyPieChart({
            easing: 'easeOutElastic',
      			delay: 1000,
      			barColor: '#008CBA',
      			trackColor: '#615957',
      			scaleColor: false,
      			lineWidth: 10,
      			trackWidth: 10,
            lineCap: 'round',
            scaleLength: 0,
            size: 180
          });
        }, 3000);

    });
</script>
