<preloader full-screen='false' ng-if="!groupDetailRequests.ready && groupDetailRequests.currentView = 'List'"> </preloader>

<div ng-if='groupDetailRequests.listView() && groupDetailRequests.ready'>


  <div ng-if="groupDetailRequests.inquired.length > 0 && groupDetailRequests.invited.length > 0" class="push-bottom">
    <!-- Header Row -->
    <div class="group-request-header row hidden-xs push-top soft-half-bottom">
      <div class="col-sm-10 col-md-9">
        <div class="group-request-data row">
          <div class="col-sm-3">
            Name
          </div>
          <div class="col-sm-3">
            Request Type
          </div>
          <div class="col-sm-3">
            Email Address
          </div>
          <div class="col-sm-3">
            Request Date
          </div>
        </div>
      </div>
    </div>

    <!-- Inquiries -->
    <div ng-repeat='inquiry in groupDetailRequests.inquired track by $index' class="group-request-row row soft-half-top soft-half-bottom">
      <div class="col-sm-10 col-md-9">
        <img class='img-responsive imgix-fluid group-request-image' ng-src='{{inquiry.imageUrl}}' err-src='{{inquiry.defaultProfileImageUrl}}'>
        <div class="group-request-data row">
          <div class="col-sm-3 ellipsis">
            {{inquiry.recipientName()}}
          </div>
          <div class="col-sm-3 ellipsis">
            Requested to Join
          </div>
          <div class="col-sm-3 ellipsis">
            {{inquiry.emailAddress}}
          </div>
          <div class="col-sm-3 ellipsis">
            {{inquiry.requestDate | date: 'MM/dd/yyyy'}}
          </div>
        </div>
      </div>
      <div class="col-sm-2 col-md-3">
        <div class="row group-request-buttons">
          <div class="col-xs-6 col-sm-12 col-md-6">
            <button type='button' class='btn btn-standard btn-block push-quarter-bottom' ng-click="groupDetailRequests.deny(inquiry)">Deny</button>
          </div>
          <div class="col-xs-6 col-sm-12 col-md-6">
            <button type='button' class='btn btn-primary btn-block push-quarter-bottom' ng-click="groupDetailRequests.approve(inquiry)">Approve</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Invites -->
    <div ng-repeat='invite in groupDetailRequests.invited track by $index' class="group-request-row row soft-half-top soft-half-bottom">
      <div class="col-sm-10 col-md-9">
        <img class='img-responsive imgix-fluid group-request-image' ng-src='{{invite.imageUrl}}'>
        <div class="group-request-data row">
          <div class="col-sm-3 ellipsis">
            {{invite.recipientName}}
          </div>
          <div class="col-sm-3 ellipsis">
            Invite Sent
          </div>
          <div class="col-sm-3 ellipsis">
            {{invite.emailAddress}}
          </div>
          <div class="col-sm-3 ellipsis">
            {{invite.requestDate | date: 'MM/dd/yyyy'}}
          </div>
        </div>
      </div>
    </div>
  </div>


  <!--<div class="table-responsive push-bottom">-->
    <!--<table class="table group-requests-list" ng-if="groupDetailRequests.inquired.length > 0 && groupDetailRequests.invited.length > 0">-->
      <!--<thead>-->
        <!--<th class='col-md-1'></th>-->
        <!--<th class='col-md-2'>Name</th>-->
        <!--<th class='col-md-2'>Request Type</th>-->
        <!--<th class='col-md-2'>Email Address</th>-->
        <!--<th class='col-md-2'>Request Date</th>-->
        <!--<th class='col-md-3'></th>-->
      <!--</thead>-->
      <!--<tbody>-->
        <!--<tr ng-repeat='inquiry in groupDetailRequests.inquired track by $index'>-->
          <!--<td>-->
            <!--<img class='img-responsive imgix-fluid requestor-image' ng-src='{{inquiry.imageUrl}}' err-src='{{inquiry.defaultProfileImageUrl}}'>-->
          <!--</td>-->
          <!--<td>-->
            <!--{{inquiry.recipientName()}}-->
          <!--</td>-->
          <!--<td>-->
            <!--Requested to Join-->
          <!--</td>-->
          <!--<td>-->
            <!--{{inquiry.emailAddress}}-->
          <!--</td>-->
          <!--<td>-->
            <!--{{inquiry.requestDate | date: 'MM/dd/yyyy'}}-->
          <!--</td>-->
          <!--<td>-->
            <!--<button type='button' class='btn btn-standard' ng-click="groupDetailRequests.deny(inquiry)">Deny</button>-->
            <!--<button type='button' class='btn btn-primary' ng-click="groupDetailRequests.approve(inquiry)">Approve</button>-->
          <!--</td>-->
        <!--</tr>-->
        <!--<tr ng-repeat='invite in groupDetailRequests.invited track by $index'>-->
          <!--<td>-->
            <!--<img class='img-responsive imgix-fluid requestor-image' ng-src='{{invite.imageUrl}}'>-->
          <!--</td>-->
          <!--<td>-->
            <!--{{invite.recipientName}}-->
          <!--</td>-->
          <!--<td>-->
            <!--Invite Sent-->
          <!--</td>-->
          <!--<td>-->
            <!--{{invite.emailAddress}}-->
          <!--</td>-->
          <!--<td>-->
            <!--{{invite.requestDate | date: 'MM/dd/yyyy'}}-->
          <!--</td>-->
          <!--<td>-->
            <!--&nbsp;-->
          <!--</td>-->
        <!--</tr>-->
      <!--</tbody>-->
    <!--</table>-->
  <!--</div>-->

  <div ng-if="groupDetailRequests.inquired.length == 0 && groupDetailRequests.invited.length == 0" class="row push-bottom push-top">
    <div class="col-sm-8 col-md-6 col-sm-offset-2 col-md-offset-3">
      <p dynamic-content="$root.MESSAGES.groupToolDetailRequestsHelpText.content | html" class="text-center"></p>
    </div>
  </div>

  <div class='container-fluid'>
    <div class='row'>
      <div class='col-sm-12'>
        <p class='text-center'><button type='button' class='btn btn-primary' ng-click="groupDetailRequests.setView('Invite', false)">Invite Someone</button></p>
      </div>
    </div>
  </div>
</div>

<div class='container-fluid' ng-if='groupDetailRequests.approveView()'>
  <group-message person="groupDetailRequests.selectedInquiry"
    normal-loading-text="Approve"
    loading-loading-text="Approving..."
    header="Approve Participant - {{ groupDetailRequests.selectedInquiry.recipientName() }}"
    sub-header-text="groupToolApproveInquirySubheaderText"
    email-template-text="groupToolApproveInquiryEmailTemplateText"
    cancel-action="groupDetailRequests.cancel(person)"
    submit-action="groupDetailRequests.submitApprove(person)"
    processing="groupDetailRequests.processing"
    ></group-message>
</div>

<div class='container-fluid' ng-if='groupDetailRequests.denyView()'>
  <group-message person="groupDetailRequests.selectedInquiry"
    normal-loading-text="Deny"
    loading-loading-text="Denying..."
    header="Deny Participant - {{ groupDetailRequests.selectedInquiry.recipientName() }}"
    sub-header-text="groupToolDenyInquirySubheaderText"
    email-template-text="groupToolDenyInquiryEmailTemplateText"
    cancel-action="groupDetailRequests.cancel(person)"
    submit-action="groupDetailRequests.submitDeny(person)"
    processing="groupDetailRequests.processing"
    ></group-message>
</div>

<div class='container-fluid' ng-if='groupDetailRequests.inviteView()'>
  <group-detail-invite on-update="groupDetailRequests.setView(newView, refresh)" group-id="groupDetailRequests.groupId"></group-detail-invite>
</div>
